<?php
session_start();
require_once('session.php');

?>
<form action="add_engine.php" method="POST" enctype="multipart/form-data">
  <div class="card-panel">
      <div class="row">
        <div class="input-field col s9">
          <input disabled name="projname" id="disabled" value="<?php echo $projname; ?>" type="text" class="validate" required="true">

        </div>
        <div class="input-field col s2">
          <input placeholder="Ex =" name="params" id="params" maxlength="1" minlength="1" type="text" value="=" class="validate center" required="true">
          <label for="params">Params</label>
        </div>
      </div>
    <div class="file-field input-field">
      <div class="btn red">
        <span>File</span>
        <input type="file" required="true" name="dbfile" id="dbfile"  accept=".txt">
        <input type="" name="metod" id="metod" value="update" style="display: none;">
      </div>
      <div class="file-path-wrapper">
        <input class="file-path validate" type="text">
      </div>
    </div>
    Style (*sesuai letak yang ada di database anda)
    <p>
      <input name="delim" id="cek1" type="radio" checked value="1"/>
      <label for="cek1">HASH [delim] Nama_Virus</label>
    </p>
    <p>
      <input name="delim" id="cek2" type="radio" value="2"/>
      <label for="cek2">Nama_Virus [delim] HASH</label>
    </p>
    <p>
      <input type="checkbox" id="check_id"/>
      <label for="check_id">tidak disertai update database.</label>
    </p>
  </div>
  </div>
  <button class="btn-floating btn-large waves-effect waves-light red" type="submit" name="add"><i class="material-icons">add</i></button>
</form>

<script>
$(document).ready(function() {
    $('#dbfile').bind('change', function() {
       var ukur = this.files[0].size;
        if(ukur >= 8999608) {  
          alert('File terlalu besar..!');
          $('#userfile').val('');
          return false;
        }
    });
   $('#check_id').change(function() {
    if ($(this).is(':checked'))
    {
        $('#dbfile').prop('disabled', true);
        $('#metod').val('nodb');
    } else {
        $('#dbfile').prop('disabled', false);
        $('#metod').val('');
    }
   });

});
</script>